document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("view-users-btn");e&&e.addEventListener("click",(function(e){e.preventDefault(),fetch("/wp-admin/admin-ajax.php",{method:"POST",body:new URLSearchParams({action:"list_user_info"})}).then((e=>e.json())).then((e=>{if(e.success){let t="";e.data.fields.forEach((e=>{t+=`<th>${e}</th>`})),document.querySelector("#user-list > thead").innerHTML="<tr>"+t+"</tr>",t="",e.data.users.forEach((e=>{t+="<tr>",t+=`<th>${e.name}</th> <th>${e.country}</th>`,e.hasOwnProperty("role")&&(t+=`<th>${e.role}</th>`),e.hasOwnProperty("email")&&(t+=`<th>${e.email}</th>`),t+="</tr>"})),document.querySelector("#user-list > tbody").innerHTML=t}}))}))}));